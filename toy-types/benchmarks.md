- 2022-02-04
- author: @cmyr
- preliminary benchmark numbers

All benchmarks generated by [criterion][], running on a 2021 macbook pro.
To run these benchmarks locally, checkout this repo and run `cargo bench`.



*take an existing cmap4 subtable and look up two glyph ids*
pod_cmap_lookup_retain  time:   [19.896 ns 19.912 ns 19.933 ns]
zc_cmap_lookup_retain   time:   [18.498 ns 18.524 ns 18.553 ns]

*take a cmap table a subtable offset and looup two glyph ids*
pod_cmap_lookup_get     time:   [28.946 ns 28.970 ns 28.995 ns]
zc_cmap_lookup_get      time:   [21.960 ns 21.976 ns 21.993 ns]

*from font root, access two fields from the head table*
pod_get_head_fields     time:   [35.519 ns 35.547 ns 35.577 ns]
view_get_head_fields    time:   [24.826 ns 24.865 ns 24.908 ns]
zc_get_head_fields      time:   [22.553 ns 22.588 ns 22.623 ns]

*take a glyf table and an offset and compute area of bounding box*
pod_glyph_bbox_only     time:   [1.9867 ns 1.9886 ns 1.9909 ns]
view_glyph_bbox_only    time:   [2.8163 ns 2.8204 ns 2.8264 ns]
zc_glyph_bbox_only      time:   [1.2526 ns 1.2544 ns 1.2565 ns]

*take font and gid, and compute area of bounding box. This involves accessing
`head`, `loca` and then `glyf`.*
pod_glyph_bbox_root     time:   [61.895 ns 61.958 ns 62.040 ns]
view_glyph_bbox_root    time:   [50.670 ns 50.720 ns 50.780 ns]
**note**: the difference here is the same as when accessing `head` alone
